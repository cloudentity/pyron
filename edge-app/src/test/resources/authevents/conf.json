{
  "vertx": {
    "logger-delegate-factory-class-name": "io.vertx.core.logging.SLF4JLogDelegateFactory"
  },
  "orchis": {
    "app": {
      "port": 7773,
      "serverVerticles": 1,
      "rules": "$ref:rules"
    },
    "jwt": {
      "secret": "secret",
      "issuer": "test-orchis-api-gateway",
      "expiresIn": "PT60S"
    }
  },
  "cookies": {
    "token": {
      "path": "/",
      "domain": "",
      "secure": false,
      "httpOnly": true
    }
  },
  "plugin:authn": {
    "methodsMapping": {
      "anonymous": "anonymousAuthnProvider",
      "sso": "ssoAuthnProvider",
      "jwt": "jwtAuthnProvider",
      "authorizationCodeOAuth": "authorizationCodeOAuthProvider",
      "authorizationCodeOAuthIntrospection": "authorizationCodeOAuthIntrospectionProvider",
      "clientCredentialsOAuth": "clientCredentialsOAuthProvider"
    },
    "entitiesMapping": {
      "jwt": {
        "jwtContent": "jwtContentProvider"
      },
      "sso": {
        "session": "sessionProvider",
        "token": "sessionIdProvider"
      },
      "authorizationCodeOAuth": {
        "userUuid": "userUuidProvider",
        "user": "userEntityProvider"
      }
    }
  },
  "registry:service-clients": {
    "jwt-authenticator": { "main": "com.cloudentity.services.openapi.tools.httpclient.vertxscala.auth.JwtAuthImpl" },
    "authn-events-service-client": {
      "main": "com.cloudentity.services.authneventsservice.client.api.AutheventApiClientImpl",
      "verticleConfig": {
        "serviceLocation": "$ref:authn-events-service-location"
      }
    }
  },
  "registry:request-plugins": {
    "plugin:authn": { "main": "com.cloudentity.edge.plugin.impl.authn.AuthnPlugin" }
  },
  "registry:response-plugins": {
    "plugin:authEvent": { "main": "com.cloudentity.edge.plugin.impl.authevent.AuthEventsPlugin" }
  },
  "registry:sd": {
  },
  "registry:system": {
    "jwt-service": { "main": "com.cloudentity.tools.vertx.jwt.impl.JwtServiceVerticle"},
    "symmetric-jwt-service": { "main": "com.cloudentity.edge.jwt.impl.SymmetricJwtService" }
  },
  "jwt-service": {
    "secret": "secret",
    "issuer": "test-orchis-api-gateway",
    "expiresIn": "PT60S"
  },
  "symmetric-jwt-service": {
    "secret": "secret",
    "issuer": "test-orchis-api-gateway",
    "expiresIn": "PT60S"
  },
  "plugin:authEvent": {
    "enabled": true
  },
  "plugin:authz": {
    "http": {
      "serviceName": "authz",
      "httpClientOptions": {
        "timeout": 3000
      },
      "circuitBreakerOptions": { "off": true },
      "retries": 0
    },
    "jwtServiceAddress": "symmetric"
  },
  "circuit-breakers": {
    "off": true
  },
  "fixed-sd-provider": {
    "records": [
    ]
  },
  "authz-service-location": {
    "host": "127.0.0.1",
    "port": 7750,
    "ssl": false
  },
  "authn-events-service-location": {
    "host": "127.0.0.1",
    "port": 7740,
    "ssl": false
  },
  "registry:authn-method-providers": {
    "anonymousAuthnProvider": {
      "main": "com.cloudentity.edge.plugin.impl.authn.methods.AnonymousAuthnProvider"
    },
    "ssoAuthnProvider": {
      "main": "com.cloudentity.edge.plugin.impl.authn.methods.SsoAuthnProvider",
      "verticleConfig": {
        "sessionService": {
          "ssl": false,
          "host": "localhost",
          "path": "",
          "port": 7770,
          "timeout": 3000,
          "debug": false
        },
        "tokenHeaderName": "token",
        "tokenCookieName": "token",
        "tokenCookieSettings": "$ref:cookies.token",
        "userIdName": "uuid",
        "jwtServiceAddress": "symmetric"
      }
    },
    "jwtAuthnProvider": {
      "main": "com.cloudentity.edge.plugin.impl.authn.methods.JwtAuthnProvider",
      "verticleConfig": {
        "jwtServiceAddress": "symmetric"
      }
    },
    "authorizationCodeOAuthProvider": { "main": "com.cloudentity.edge.plugin.impl.authn.methods.OAuthAuthorizationCodeAuthnProvider" },
    "clientCredentialsOAuthProvider": { "main": "com.cloudentity.edge.plugin.impl.authn.methods.OAuthClientCredentialsAuthnProvider" },
    "authorizationCodeOAuthIntrospectionProvider": {
      "main": "com.cloudentity.edge.plugin.impl.authn.methods.OAuthAuthorizationCodeIntrospectionAuthnProvider",
      "verticleConfig": {
        "http": {
          "serviceLocation": {
            "host": "localhost",
            "port": 9999,
            "ssl": false
          }
        }
      }
    }
  },
  "registry:authn-entity-providers": {
    "sessionProvider": { "main": "com.cloudentity.edge.plugin.impl.authn.entities.SSOSessionProvider" },
    "sessionIdProvider": { "main": "com.cloudentity.edge.plugin.impl.authn.entities.SessionIdProvider" },
    "userUuidProvider": { "main": "com.cloudentity.edge.plugin.impl.authn.entities.UserUuidProvider" },
    "jwtContentProvider": { "main": "com.cloudentity.edge.plugin.impl.authn.entities.JWTContentProvider" },
    "oauthClientIdProvider": { "main": "com.cloudentity.edge.plugin.impl.authn.entities.OAuthClientIdProvider" }
  }
}
